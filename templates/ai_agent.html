<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent - SkillSync AI</title>
    <meta name="description" content="Intelligent AI-powered career agent providing personalized guidance, automated insights, and proactive recommendations.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            /* Modern Color System */
            --gray-50: #fafafa;
            --gray-100: #f5f5f5;
            --gray-200: #e5e5e5;
            --gray-300: #d4d4d4;
            --gray-400: #a3a3a3;
            --gray-500: #737373;
            --gray-600: #525252;
            --gray-700: #404040;
            --gray-800: #262626;
            --gray-900: #171717;
            
            --blue-50: #eff6ff;
            --blue-500: #3b82f6;
            --blue-600: #2563eb;
            --blue-700: #1d4ed8;
            
            --emerald-50: #ecfdf5;
            --emerald-500: #10b981;
            --emerald-600: #059669;
            
            --violet-50: #f5f3ff;
            --violet-500: #8b5cf6;
            --violet-600: #7c3aed;
            
            --orange-50: #fff7ed;
            --orange-500: #f59e0b;
            --orange-600: #d97706;
            
            --red-50: #fef2f2;
            --red-500: #ef4444;
            --red-600: #dc2626;
            
            /* Typography */
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            
            /* Spacing */
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            
            /* Radius */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-sans);
            background: var(--gray-50);
            color: var(--gray-900);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Layout */
        .dashboard-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            background: white;
            border-right: 1px solid var(--gray-200);
            padding: var(--space-6);
            display: flex;
            flex-direction: column;
        }
        
        .sidebar-header {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-8);
            padding-bottom: var(--space-6);
            border-bottom: 1px solid var(--gray-200);
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--blue-500), var(--violet-500));
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
        }
        
        .logo-text {
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--gray-900);
        }
        
        .nav {
            flex: 1;
        }
        
        .nav-section {
            margin-bottom: var(--space-6);
        }
        
        .nav-title {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: var(--space-3);
        }
        
        .nav-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: var(--space-1);
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-md);
            color: var(--gray-600);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.875rem;
            transition: all 0.2s ease;
        }
        
        .nav-item:hover,
        .nav-item.active {
            background: var(--gray-100);
            color: var(--gray-900);
        }
        
        .nav-item.active {
            background: var(--blue-50);
            color: var(--blue-700);
        }
        
        .nav-item i {
            width: 16px;
            text-align: center;
        }
        
        /* Main Content */
        .main-content {
            padding: var(--space-8);
            overflow-y: auto;
        }
        
        .main-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-8);
        }
        
        .main-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--gray-900);
        }
        
        .main-subtitle {
            color: var(--gray-600);
            margin-top: var(--space-1);
        }
        
        .header-actions {
            display: flex;
            gap: var(--space-3);
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            border: none;
            border-radius: var(--radius-md);
            font-weight: 500;
            font-size: 0.875rem;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-primary {
            background: var(--gray-900);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--gray-800);
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: white;
            color: var(--gray-700);
            border: 1px solid var(--gray-300);
        }
        
        .btn-secondary:hover {
            background: var(--gray-50);
            border-color: var(--gray-400);
        }
        
        .card {
            background: white;
            border-radius: var(--radius-xl);
            border: 1px solid var(--gray-200);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .card-header {
            padding: var(--space-6);
            border-bottom: 1px solid var(--gray-200);
        }
        
        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: var(--space-2);
        }
        
        .card-content {
            padding: var(--space-6);
        }
        
        .agent-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-8);
            margin-bottom: var(--space-8);
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-6);
        }
        
        /* Chat Interface */
        .chat-container {
            height: 500px;
            display: flex;
            flex-direction: column;
            background: white;
            border-radius: var(--radius-xl);
            overflow: hidden;
            border: 1px solid var(--gray-200);
        }
        
        .chat-header {
            background: linear-gradient(135deg, var(--blue-500), var(--violet-500));
            color: white;
            padding: var(--space-4);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-4);
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }
        
        .message {
            max-width: 80%;
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius-lg);
            font-size: 0.875rem;
            line-height: 1.5;
        }
        
        .message.user {
            background: var(--blue-500);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: var(--radius-sm);
        }
        
        .message.ai {
            background: var(--gray-100);
            color: var(--gray-800);
            align-self: flex-start;
            border-bottom-left-radius: var(--radius-sm);
        }
        
        .typing-indicator {
            display: flex;
            gap: var(--space-2);
            align-items: center;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--gray-500);
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-4px); }
        }
        
        .chat-input-container {
            border-top: 1px solid var(--gray-200);
            padding: var(--space-4);
            display: flex;
            gap: var(--space-3);
        }
        
        .chat-input {
            flex: 1;
            padding: var(--space-3);
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: 0.875rem;
            outline: none;
            transition: border-color 0.2s ease;
        }
        
        .chat-input:focus {
            border-color: var(--blue-500);
        }
        
        .send-btn {
            background: var(--blue-500);
            color: white;
            border: none;
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .send-btn:hover {
            background: var(--blue-600);
        }
        
        .send-btn:disabled {
            background: var(--gray-400);
            cursor: not-allowed;
        }
        
        /* Status Indicators */
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            font-size: 0.875rem;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        .status-online {
            background: var(--emerald-500);
            animation: pulse 2s infinite;
        }
        
        .status-thinking {
            background: var(--orange-500);
            animation: pulse 1s infinite;
        }
        
        .status-offline {
            background: var(--gray-400);
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: var(--space-2);
            margin-bottom: var(--space-4);
            flex-wrap: wrap;
        }
        
        .quick-action {
            background: var(--gray-100);
            color: var(--gray-700);
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-md);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        
        .quick-action:hover {
            background: var(--blue-50);
            color: var(--blue-700);
        }
        
        /* Agent Features */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-4);
        }
        
        .feature-item {
            text-align: center;
            padding: var(--space-4);
        }
        
        .feature-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-3);
            font-size: 1.25rem;
            color: white;
        }
        
        .feature-icon-blue { background: linear-gradient(135deg, var(--blue-500), var(--blue-600)); }
        .feature-icon-emerald { background: linear-gradient(135deg, var(--emerald-500), var(--emerald-600)); }
        .feature-icon-violet { background: linear-gradient(135deg, var(--violet-500), var(--violet-600)); }
        .feature-icon-orange { background: linear-gradient(135deg, var(--orange-500), var(--orange-600)); }
        
        .feature-title {
            font-weight: 600;
            margin-bottom: var(--space-2);
            color: var(--gray-900);
        }
        
        .feature-desc {
            color: var(--gray-600);
            font-size: 0.875rem;
            line-height: 1.5;
        }
        
        /* Insights Cards */
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-6);
        }
        
        .insight-card {
            background: white;
            padding: var(--space-6);
            border-radius: var(--radius-xl);
            border: 1px solid var(--gray-200);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .insight-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--blue-500), var(--violet-500));
        }
        
        .insight-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }
        
        .insight-header {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-4);
        }
        
        .insight-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: white;
        }
        
        .insight-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-900);
        }
        
        .insight-content {
            color: var(--gray-600);
            font-size: 0.875rem;
            line-height: 1.6;
        }
        
        /* Mobile Responsive */
        @media (max-width: 1024px) {
            .dashboard-layout {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
            
            .main-content {
                padding: var(--space-6) var(--space-4);
            }
            
            .agent-grid {
                grid-template-columns: 1fr;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .main-header {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--space-4);
            }
        }
        
        /* Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-slide-up {
            animation: slideInUp 0.4s ease-out;
        }
        
        .animate-delay {
            animation-delay: 0.1s;
            animation-fill-mode: both;
        }
    </style>
</head>
<body>
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="logo-text">SkillSync AI</div>
            </div>
            
            <nav class="nav">
                <div class="nav-section">
                    <div class="nav-title">Overview</div>
                    <ul class="nav-list">
                        <li><a href="/dashboard" class="nav-item"><i class="fas fa-chart-line"></i> Dashboard</a></li>
                        <li><a href="/career-paths" class="nav-item"><i class="fas fa-route"></i> Career Paths</a></li>
                        <li><a href="#analytics" class="nav-item"><i class="fas fa-chart-bar"></i> Analytics</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <div class="nav-title">Tools</div>
                    <ul class="nav-list">
                        <li><a href="/market-intelligence" class="nav-item"><i class="fas fa-brain"></i> Market Intel</a></li>
                        <li><a href="/tools" class="nav-item"><i class="fas fa-tools"></i> AI Tools</a></li>
                        <li><a href="/ai-agent" class="nav-item active"><i class="fas fa-robot"></i> AI Agent</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <div class="nav-title">Community</div>
                    <ul class="nav-list">
                        <li><a href="/community" class="nav-item"><i class="fas fa-users"></i> Network</a></li>
                        <li><a href="#mentorship" class="nav-item"><i class="fas fa-graduation-cap"></i> Mentorship</a></li>
                        <li><a href="#events" class="nav-item"><i class="fas fa-calendar"></i> Events</a></li>
                    </ul>
                </div>
            </nav>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <div class="main-header animate-slide-up">
                <div>
                    <h1 class="main-title">AI Agent</h1>
                    <p class="main-subtitle">Your intelligent career companion providing 24/7 personalized guidance and proactive insights.</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="showCapabilities()">
                        <i class="fas fa-list"></i> View Capabilities
                    </button>
                    <button class="btn btn-primary" onclick="getProactiveInsights()">
                        <i class="fas fa-lightbulb"></i> Get Insights
                    </button>
                </div>
            </div>
            
            <!-- AI Agent Status -->
            <div class="card animate-slide-up animate-delay" style="text-align: center; margin-bottom: var(--space-8);">
                <div class="card-content">
                    <div style="display: flex; justify-content: center; align-items: center; gap: var(--space-4); margin-bottom: var(--space-4);">
                        <div style="font-size: 3rem;">ü§ñ</div>
                        <div>
                            <h3 style="color: var(--gray-900); margin-bottom: var(--space-2);">SkillSync AI Agent</h3>
                            <div class="status-indicator">
                                <div class="status-dot status-online" id="agentStatus"></div>
                                <span id="agentStatusText">Online & Ready</span>
                            </div>
                        </div>
                    </div>
                    <p style="color: var(--gray-600); margin-bottom: var(--space-4); max-width: 600px; margin-left: auto; margin-right: auto;">
                        Powered by advanced AI to provide personalized career guidance, skill recommendations, and market insights tailored to your unique professional journey.
                    </p>
                    <div style="display: flex; gap: var(--space-6); justify-content: center; font-size: 0.875rem; color: var(--gray-600); flex-wrap: wrap;">
                        <span><i class="fas fa-brain" style="color: var(--blue-500);"></i> AI-Powered</span>
                        <span><i class="fas fa-clock" style="color: var(--emerald-500);"></i> 24/7 Available</span>
                        <span><i class="fas fa-shield-alt" style="color: var(--violet-500);"></i> Privacy Protected</span>
                        <span><i class="fas fa-sync" style="color: var(--orange-500);"></i> Always Learning</span>
                    </div>
                </div>
            </div>
            
            <!-- Interactive Chat Interface -->
            <div class="agent-grid animate-slide-up animate-delay">
                <div class="card" style="padding: 0;">
                    <div class="chat-container">
                        <div class="chat-header">
                            <span style="font-weight: 600;">Career AI Assistant</span>
                            <div class="status-indicator">
                                <div class="status-dot status-online"></div>
                                <span>Online</span>
                            </div>
                        </div>
                        
                        <div class="chat-messages" id="chatMessages">
                            <div class="message ai">
                                üëã Hello! I'm your AI career assistant. I can help you with career planning, skill development, job search strategies, and market insights. What would you like to discuss today?
                            </div>
                        </div>
                        
                        <div style="padding: var(--space-4);">
                            <div class="quick-actions">
                                <button class="quick-action" onclick="sendQuickMessage('career advice')">Career Advice</button>
                                <button class="quick-action" onclick="sendQuickMessage('skill assessment')">Skill Assessment</button>
                                <button class="quick-action" onclick="sendQuickMessage('job search help')">Job Search</button>
                                <button class="quick-action" onclick="sendQuickMessage('salary negotiation')">Salary Tips</button>
                            </div>
                        </div>
                        
                        <div class="chat-input-container">
                            <input type="text" id="chatInput" class="chat-input" placeholder="Ask me anything about your career..." onkeypress="handleKeyPress(event)">
                            <button class="send-btn" id="sendBtn" onclick="sendMessage()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div>
                    <div class="card" style="margin-bottom: var(--space-6);">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-magic"></i> AI Capabilities</h3>
                        </div>
                        <div class="card-content">
                            <div class="feature-grid">
                                <div class="feature-item">
                                    <div class="feature-icon feature-icon-blue">
                                        <i class="fas fa-route"></i>
                                    </div>
                                    <div class="feature-title">Career Planning</div>
                                    <div class="feature-desc">Personalized roadmaps and goal setting</div>
                                </div>
                                <div class="feature-item">
                                    <div class="feature-icon feature-icon-emerald">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <div class="feature-title">Market Analysis</div>
                                    <div class="feature-desc">Real-time industry insights</div>
                                </div>
                                <div class="feature-item">
                                    <div class="feature-icon feature-icon-violet">
                                        <i class="fas fa-graduation-cap"></i>
                                    </div>
                                    <div class="feature-title">Skill Development</div>
                                    <div class="feature-desc">Learning recommendations</div>
                                </div>
                                <div class="feature-item">
                                    <div class="feature-icon feature-icon-orange">
                                        <i class="fas fa-bullseye"></i>
                                    </div>
                                    <div class="feature-title">Goal Tracking</div>
                                    <div class="feature-desc">Progress monitoring</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-history"></i> Recent Interactions</h3>
                        </div>
                        <div class="card-content">
                            <div id="recentInteractions">
                                <div style="padding: var(--space-3); border-bottom: 1px solid var(--gray-200); margin-bottom: var(--space-3);">
                                    <div style="font-weight: 600; margin-bottom: var(--space-1); color: var(--gray-900);">Career Path Guidance</div>
                                    <div style="font-size: 0.875rem; color: var(--gray-600);">Discussed frontend to full-stack transition</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-500);">2 hours ago</div>
                                </div>
                                <div style="padding: var(--space-3); border-bottom: 1px solid var(--gray-200); margin-bottom: var(--space-3);">
                                    <div style="font-weight: 600; margin-bottom: var(--space-1); color: var(--gray-900);">Skill Assessment</div>
                                    <div style="font-size: 0.875rem; color: var(--gray-600);">Evaluated React and JavaScript skills</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-500);">Yesterday</div>
                                </div>
                                <div style="padding: var(--space-3);">
                                    <div style="font-weight: 600; margin-bottom: var(--space-1); color: var(--gray-900);">Market Analysis</div>
                                    <div style="font-size: 0.875rem; color: var(--gray-600);">Analyzed demand for cloud skills</div>
                                    <div style="font-size: 0.75rem; color: var(--gray-500);">3 days ago</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Proactive Insights -->
            <div class="insights-grid animate-slide-up animate-delay">
                <div class="insight-card">
                    <div class="insight-header">
                        <div class="insight-icon" style="background: linear-gradient(135deg, var(--blue-500), var(--blue-600));">
                            <i class="fas fa-trending-up"></i>
                        </div>
                        <div class="insight-title">Market Opportunity</div>
                    </div>
                    <div class="insight-content">
                        üöÄ AI/ML skills are seeing 35% growth in job postings. Companies are actively seeking professionals with machine learning experience and AI integration capabilities.
                    </div>
                    <div style="margin-top: var(--space-4);">
                        <button class="btn btn-primary" onclick="exploreOpportunity('ai-ml')">
                            <i class="fas fa-arrow-right"></i> Explore Opportunity
                        </button>
                    </div>
                </div>
                
                <div class="insight-card">
                    <div class="insight-header">
                        <div class="insight-icon" style="background: linear-gradient(135deg, var(--emerald-500), var(--emerald-600));">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <div class="insight-title">Skill Recommendation</div>
                    </div>
                    <div class="insight-content">
                        üéØ Based on your progress, AWS certification could boost your salary by 18%. Cloud skills are highly valued with 67% of companies using AWS infrastructure.
                    </div>
                    <div style="margin-top: var(--space-4);">
                        <button class="btn btn-primary" onclick="exploreOpportunity('aws-cert')">
                            <i class="fas fa-arrow-right"></i> Learn More
                        </button>
                    </div>
                </div>
                
                <div class="insight-card">
                    <div class="insight-header">
                        <div class="insight-icon" style="background: linear-gradient(135deg, var(--violet-500), var(--violet-600));">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div class="insight-title">Job Opportunities</div>
                    </div>
                    <div class="insight-content">
                        üíº 12 new jobs matching your profile posted this week. AI-curated opportunities based on your skills, experience level, and career preferences.
                    </div>
                    <div style="margin-top: var(--space-4);">
                        <button class="btn btn-primary" onclick="exploreOpportunity('job-matches')">
                            <i class="fas fa-arrow-right"></i> View Jobs
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let isTyping = false;
        
        // AI Response Templates
        const aiResponses = {
            'career advice': "üéØ I'd be happy to help with career advice! Based on your profile, here are some key recommendations:\n\n‚Ä¢ Focus on building your React skills - you're 75% there!\n‚Ä¢ Consider learning Node.js for full-stack opportunities\n‚Ä¢ Cloud skills (AWS/Azure) are in high demand\n‚Ä¢ Build a portfolio showcasing real projects\n\nWhat specific aspect would you like to explore further?",
            
            'skill assessment': "üìä Let me analyze your current skill set:\n\n‚úÖ **Strengths:**\n‚Ä¢ JavaScript: 85% proficiency\n‚Ä¢ HTML/CSS: 90% proficiency\n‚Ä¢ React: 75% proficiency\n\nüéØ **Growth Areas:**\n‚Ä¢ Backend development (Node.js)\n‚Ä¢ Database management\n‚Ä¢ Cloud deployment\n\nWould you like a detailed assessment or specific learning recommendations?",
            
            'job search help': "üîç Here's a strategic approach to your job search:\n\n1. **Optimize your resume** for ATS systems\n2. **Target companies** that value your skillset\n3. **Network actively** on LinkedIn and tech communities\n4. **Practice coding challenges** and system design\n5. **Prepare for behavioral interviews**\n\nBased on your skills, I recommend focusing on startups and mid-size companies that need React developers. Want specific company suggestions?",
            
            'salary negotiation': "üí∞ Here are proven salary negotiation strategies:\n\n1. **Research market rates** - Your skills are worth $75k-120k\n2. **Document achievements** with specific metrics\n3. **Practice your pitch** - emphasize value delivered\n4. **Consider total compensation** (benefits, equity, growth)\n5. **Time it right** - after positive feedback or achievements\n\nGiven your React skills and market demand, you have good negotiating power. Want help crafting your pitch?"
        };
        
        function startChat() {
            const button = event.target;
            const originalText = button.innerHTML;
            
            // Show loading animation
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Connecting...';
            button.disabled = true;
            
            setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
                
                // Focus chat input and add welcome message
                document.getElementById('chatInput').focus();
                addMessage('ai', 'üöÄ Great! I\\'m now fully activated and ready to help with your career. Try asking me about:\\n\\n‚Ä¢ Career advice and planning\\n‚Ä¢ Skill development recommendations\\n‚Ä¢ Job search strategies\\n‚Ä¢ Salary negotiation tips\\n\\nWhat would you like to discuss first?');
                
                showNotification('‚úÖ AI Agent fully activated! Start typing your questions.', 'success');
            }, 1500);
        }
        
        function showCapabilities() {
            const modal = createModal('ü§ñ AI Agent Capabilities', `
                <div style="padding: var(--space-4);">
                    <div style="background: linear-gradient(135deg, var(--primary-500), var(--info)); color: white; padding: var(--space-6); border-radius: var(--radius-xl); margin-bottom: var(--space-6); text-align: center;">
                        <i class="fas fa-robot" style="font-size: 3rem; margin-bottom: var(--space-4);"></i>
                        <h3 style="margin-bottom: var(--space-3);">SkillSync AI Agent Capabilities</h3>
                        <p style="opacity: 0.9;">Advanced AI-powered career assistance with A2A protocol integration</p>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); margin-bottom: var(--space-6);">
                        <div style="background: var(--primary-50); padding: var(--space-4); border-radius: var(--radius-lg);">
                            <h4 style="color: var(--primary-700); margin-bottom: var(--space-3); display: flex; align-items: center; gap: var(--space-2);">
                                <i class="fas fa-route"></i> Career Planning
                            </h4>
                            <ul style="color: var(--gray-700); font-size: var(--text-sm); line-height: 1.6;">
                                <li>‚Ä¢ Personalized career roadmaps</li>
                                <li>‚Ä¢ SMART goal setting and tracking</li>
                                <li>‚Ä¢ Timeline optimization</li>
                                <li>‚Ä¢ Milestone recommendations</li>
                            </ul>
                            <button class="btn btn-primary" onclick="startCareerPlanning()" style="width: 100%; margin-top: var(--space-3); font-size: var(--text-sm);">
                                Start Planning
                            </button>
                        </div>
                        
                        <div style="background: var(--success-50); padding: var(--space-4); border-radius: var(--radius-lg);">
                            <h4 style="color: var(--success-700); margin-bottom: var(--space-3); display: flex; align-items: center; gap: var(--space-2);">
                                <i class="fas fa-chart-line"></i> Market Analysis
                            </h4>
                            <ul style="color: var(--gray-700); font-size: var(--text-sm); line-height: 1.6;">
                                <li>‚Ä¢ Real-time industry insights</li>
                                <li>‚Ä¢ Salary trend analysis</li>
                                <li>‚Ä¢ Skill demand forecasting</li>
                                <li>‚Ä¢ Job market opportunities</li>
                            </ul>
                            <button class="btn btn-primary" onclick="openMarketAnalysis()" style="width: 100%; margin-top: var(--space-3); font-size: var(--text-sm);">
                                Analyze Market
                            </button>
                        </div>
                        
                        <div style="background: var(--info-50); padding: var(--space-4); border-radius: var(--radius-lg);">
                            <h4 style="color: var(--info-700); margin-bottom: var(--space-3); display: flex; align-items: center; gap: var(--space-2);">
                                <i class="fas fa-graduation-cap"></i> Skill Development
                            </h4>
                            <ul style="color: var(--gray-700); font-size: var(--text-sm); line-height: 1.6;">
                                <li>‚Ä¢ Personalized learning paths</li>
                                <li>‚Ä¢ Skill gap analysis</li>
                                <li>‚Ä¢ Progress tracking</li>
                                <li>‚Ä¢ Resource recommendations</li>
                            </ul>
                            <button class="btn btn-primary" onclick="startSkillDevelopment()" style="width: 100%; margin-top: var(--space-3); font-size: var(--text-sm);">
                                Develop Skills
                            </button>
                        </div>
                        
                        <div style="background: var(--warning-50); padding: var(--space-4); border-radius: var(--radius-lg);">
                            <h4 style="color: var(--warning-700); margin-bottom: var(--space-3); display: flex; align-items: center; gap: var(--space-2);">
                                <i class="fas fa-briefcase"></i> Job Search & Networking
                            </h4>
                            <ul style="color: var(--gray-700); font-size: var(--text-sm); line-height: 1.6;">
                                <li>‚Ä¢ Resume optimization</li>
                                <li>‚Ä¢ Interview preparation</li>
                                <li>‚Ä¢ Networking strategies</li>
                                <li>‚Ä¢ Application tracking</li>
                            </ul>
                            <button class="btn btn-primary" onclick="startJobSearch()" style="width: 100%; margin-top: var(--space-3); font-size: var(--text-sm);">
                                Find Jobs
                            </button>
                        </div>
                    </div>
                    
                    <div style="background: var(--gray-50); padding: var(--space-4); border-radius: var(--radius-lg); margin-bottom: var(--space-4);">
                        <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);"><i class="fas fa-network-wired"></i> A2A Protocol Integration</h4>
                        <p style="color: var(--gray-700); font-size: var(--text-sm); line-height: 1.6;">
                            Our AI agents communicate using advanced Agent-to-Agent protocols, enabling seamless collaboration between specialist AIs for comprehensive career guidance.
                        </p>
                    </div>
                    
                    <div style="text-align: center;">
                        <button class="btn btn-secondary" onclick="closeModal()">Got it!</button>
                    </div>
                </div>
            `);
        }
        
        async function getProactiveInsights() {
            setAgentStatus('thinking', 'Analyzing your profile...');
            
            const modal = createModal('üîç AI Proactive Insights', `
                <div style="padding: var(--space-4); text-align: center;">
                    <div style="background: linear-gradient(135deg, var(--success), var(--info)); color: white; padding: var(--space-6); border-radius: var(--radius-xl); margin-bottom: var(--space-6);">
                        <i class="fas fa-brain" style="font-size: 3rem; margin-bottom: var(--space-4);"></i>
                        <h3 style="margin-bottom: var(--space-3);">AI Analysis in Progress</h3>
                        <p style="opacity: 0.9;">Analyzing market trends, your profile, and generating insights...</p>
                        <div style="margin-top: var(--space-4);">
                            <div style="background: rgba(255,255,255,0.3); height: 6px; border-radius: 3px; overflow: hidden;">
                                <div class="insight-progress" style="background: white; height: 100%; width: 0%; transition: width 3s ease;"></div>
                            </div>
                        </div>
                    </div>
                    <div id="insightSteps" style="text-align: left;">
                        <div class="insight-step" style="margin-bottom: var(--space-2); opacity: 0.5;">üìä Analyzing current market trends...</div>
                        <div class="insight-step" style="margin-bottom: var(--space-2); opacity: 0.5;">üë§ Reviewing your skill profile...</div>
                        <div class="insight-step" style="margin-bottom: var(--space-2); opacity: 0.5;">üéØ Identifying growth opportunities...</div>
                        <div class="insight-step" style="margin-bottom: var(--space-2); opacity: 0.5;">üí° Generating personalized recommendations...</div>
                    </div>
                </div>
            `);
            
            // Animate insights generation
            setTimeout(() => {
                document.querySelector('.insight-progress').style.width = '100%';
                const steps = document.querySelectorAll('.insight-step');
                steps.forEach((step, index) => {
                    setTimeout(() => {
                        step.style.opacity = '1';
                        step.style.transform = 'scale(1.05)';
                        setTimeout(() => step.style.transform = 'scale(1)', 200);
                    }, index * 600);
                });
            }, 100);
            
            try {
                // Call real AI insights API
                const response = await fetch('/api/ai/proactive-insights', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        context: 'proactive_career_insights',
                        user_data: {
                            skills: ['React', 'JavaScript', 'HTML/CSS'],
                            experience_level: 'intermediate',
                            career_goal: 'Full Stack Developer'
                        }
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    
                    setTimeout(() => {
                        closeModal();
                        showInsightsResults(data);
                        setAgentStatus('online', 'Online & Ready');
                    }, 3000);
                    return;
                }
            } catch (error) {
                console.log('Using fallback insights generation:', error);
            }
            
            // Fallback insights
            setTimeout(() => {
                closeModal();
                showInsightsResults({
                    immediate_opportunities: [
                        '3 companies actively hiring React developers in your area',
                        'Remote positions increased 40% this month',
                        'Junior to Mid-level transition window is optimal now'
                    ],
                    market_trends: [
                        'TypeScript demand up 25% - perfect addition to your React skills',
                        'Cloud deployment skills could increase salary by $15k',
                        'AI integration skills becoming essential for developers'
                    ],
                    personalized_recommendations: [
                        'Complete React learning path (25% remaining)',
                        'Start Node.js basics next month for full-stack readiness',
                        'Consider AWS certification for Q3 - high ROI skill',
                        'Build 2-3 portfolio projects to demonstrate capabilities'
                    ]
                });
                setAgentStatus('online', 'Online & Ready');
            }, 3200);
        }
        
        function sendQuickMessage(topic) {
            addMessage('user', `Tell me about ${topic}`);
            handleAIResponse(topic);
        }
        
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addMessage('user', message);
            input.value = '';
            
            // Simple keyword matching for demo
            const lowerMessage = message.toLowerCase();
            let responseKey = 'default';
            
            if (lowerMessage.includes('career') || lowerMessage.includes('advice')) {
                responseKey = 'career advice';
            } else if (lowerMessage.includes('skill') || lowerMessage.includes('assessment')) {
                responseKey = 'skill assessment';
            } else if (lowerMessage.includes('job') || lowerMessage.includes('search')) {
                responseKey = 'job search help';
            } else if (lowerMessage.includes('salary') || lowerMessage.includes('money')) {
                responseKey = 'salary negotiation';
            }
            
            handleAIResponse(responseKey, message);
        }
        
        async function handleAIResponse(responseKey, originalMessage = '') {
            setAgentStatus('thinking', 'Thinking...');
            addTypingIndicator();
            
            try {
                // Try to get real AI response from backend
                const response = await fetch('/api/ai/career-guidance', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        career_goals: originalMessage || responseKey,
                        current_role: 'User', 
                        experience_level: 'Mid-Level',
                        additional_context: 'AI Agent Chat'
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    removeTypingIndicator();
                    
                    // Handle new enhanced API response format
                    if (data.success && data.guidance) {
                        addMessage('ai', data.guidance);
                        
                        // Show enhanced features if available
                        if (data.specialist_agents_involved && data.specialist_agents_involved.length > 1) {
                            const agentInfo = `‚ú® Analysis by: ${data.specialist_agents_involved.join(', ')}`;
                            addMessage('ai', agentInfo, 'system');
                        }
                    } else {
                        // Fallback for older format
                        addMessage('ai', data.ai_response || data.guidance || data.message || 'Analysis completed successfully!');
                    }
                    
                    setAgentStatus('online', 'Online & Ready');
                    return;
                }
            } catch (error) {
                console.log('Using fallback response due to:', error);
            }
            
            // Fallback to local responses if API fails
            setTimeout(() => {
                removeTypingIndicator();
                
                let response = aiResponses[responseKey];
                
                if (!response) {
                    response = `ü§î I understand you're asking about "${originalMessage}". While I don't have a specific response for that, I can help you with:\n\n‚Ä¢ Career planning and goal setting\n‚Ä¢ Skill development recommendations\n‚Ä¢ Job search strategies\n‚Ä¢ Market insights and trends\n‚Ä¢ Salary guidance\n\nWhat specific area interests you most?`;
                }
                
                addMessage('ai', response);
                setAgentStatus('online', 'Online & Ready');
            }, 1500 + Math.random() * 1000);
        }
        
        function addMessage(sender, text) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            // Format text with line breaks and basic formatting
            const formattedText = text
                .replace(/\n/g, '<br>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/‚Ä¢/g, '&bull;');
            
            messageDiv.innerHTML = formattedText;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function addTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai typing-indicator';
            typingDiv.innerHTML = '<div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>';
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            isTyping = true;
        }
        
        function removeTypingIndicator() {
            const typingIndicator = document.querySelector('.typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
            isTyping = false;
        }
        
        function setAgentStatus(status, text) {
            const statusDot = document.getElementById('agentStatus');
            const statusText = document.getElementById('agentStatusText');
            
            statusDot.className = `status-dot status-${status}`;
            statusText.textContent = text;
        }
        
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }
        
        function exploreOpportunity(type) {
            const opportunities = {
                'ai-ml': {
                    title: 'AI/ML Career Opportunity',
                    icon: 'ü§ñ',
                    growth: '35% increase',
                    salary: '$110k-160k',
                    details: 'The AI/ML field is experiencing unprecedented growth with high-paying remote opportunities.',
                    learningPath: [
                        'Python fundamentals mastery',
                        'Data analysis with pandas/numpy',
                        'Machine learning with scikit-learn',
                        'Deep learning basics with TensorFlow',
                        'MLOps and deployment strategies'
                    ],
                    timeline: '8-12 months',
                    action: () => window.location.href = '/career-paths?focus=ai-ml'
                },
                'aws-cert': {
                    title: 'AWS Certification Path',
                    icon: '‚òÅÔ∏è',
                    growth: '18% salary increase',
                    salary: 'Up to +$25k',
                    details: 'AWS skills are highly valued with 67% of companies using AWS infrastructure.',
                    learningPath: [
                        'AWS Cloud Practitioner (foundational)',
                        'AWS Solutions Architect Associate',
                        'Specialized certifications by interest',
                        'Hands-on labs and practice exams',
                        'Real-world project implementation'
                    ],
                    timeline: '4-6 months',
                    action: () => window.location.href = '/tools?focus=aws-cert'
                },
                'job-matches': {
                    title: 'Personalized Job Matches',
                    icon: 'üíº',
                    growth: '12 new matches',
                    salary: '$85k-120k average',
                    details: 'AI-curated job opportunities matching your skills and preferences.',
                    learningPath: [
                        'Frontend Developer - TechStart Inc. (92% match)',
                        'Full Stack Developer - InnovateCorp (87% match)',
                        'UI Developer - DesignFirst (89% match)',
                        'React Developer - StartupHub (91% match)',
                        'Software Engineer - TechCorp (85% match)'
                    ],
                    timeline: 'Apply now',
                    action: () => window.location.href = '/community?tab=jobs'
                }
            };
            
            const opportunity = opportunities[type];
            if (!opportunity) return;
            
            const modal = createModal(`${opportunity.icon} ${opportunity.title}`, `
                <div style="padding: var(--space-4);">
                    <div style="background: linear-gradient(135deg, var(--success), var(--info)); color: white; padding: var(--space-6); border-radius: var(--radius-xl); margin-bottom: var(--space-6); text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: var(--space-3);">${opportunity.icon}</div>
                        <h3 style="margin-bottom: var(--space-3);">${opportunity.title}</h3>
                        <div style="display: flex; justify-content: center; gap: var(--space-6); margin-bottom: var(--space-4);">
                            <div>
                                <div style="font-size: var(--text-xl); font-weight: 700;">${opportunity.growth}</div>
                                <div style="opacity: 0.9;">Market Growth</div>
                            </div>
                            <div>
                                <div style="font-size: var(--text-xl); font-weight: 700;">${opportunity.salary}</div>
                                <div style="opacity: 0.9;">Salary Range</div>
                            </div>
                            <div>
                                <div style="font-size: var(--text-xl); font-weight: 700;">${opportunity.timeline}</div>
                                <div style="opacity: 0.9;">Timeline</div>
                            </div>
                        </div>
                        <p style="opacity: 0.9;">${opportunity.details}</p>
                    </div>
                    
                    <div style="margin-bottom: var(--space-6);">
                        <h4 style="margin-bottom: var(--space-4);">üìö Recommended Learning Path</h4>
                        <div style="display: grid; gap: var(--space-2);">
                            ${opportunity.learningPath.map((step, index) => `
                                <div style="display: flex; align-items: center; padding: var(--space-3); background: var(--gray-50); border-radius: var(--radius-lg);">
                                    <div style="width: 24px; height: 24px; background: var(--primary-500); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: var(--space-3); font-size: var(--text-sm); font-weight: 600;">${index + 1}</div>
                                    <div>${step}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: var(--space-3); justify-content: center;">
                        <button class="btn btn-secondary" onclick="closeModal()">Learn More Later</button>
                        <button class="btn btn-primary" onclick="executeOpportunityAction('${type}')">
                            <i class="fas fa-rocket"></i> Get Started
                        </button>
                    </div>
                </div>
            `);
        }
        
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed; top: 20px; right: 20px; z-index: 9999;
                padding: 12px 24px; border-radius: 8px; color: white;
                background: ${type === 'success' ? '#48bb78' : type === 'error' ? '#f56565' : '#4299e1'};
                box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: all 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, 4000);
        }
        
        // Supporting functions for new functionality
        function startCareerPlanning() {
            closeModal();
            showNotification('üöÄ Redirecting to Career Planning...', 'info');
            setTimeout(() => {
                window.location.href = '/career-paths';
            }, 1000);
        }
        
        function openMarketAnalysis() {
            closeModal();
            showNotification('üìä Opening Market Intelligence...', 'info');
            setTimeout(() => {
                window.location.href = '/market-intelligence';
            }, 1000);
        }
        
        function startSkillDevelopment() {
            closeModal();
            showNotification('üéì Opening AI Tools for Skill Development...', 'info');
            setTimeout(() => {
                window.location.href = '/tools';
            }, 1000);
        }
        
        function startJobSearch() {
            closeModal();
            showNotification('üíº Opening Community Job Board...', 'info');
            setTimeout(() => {
                window.location.href = '/community?tab=jobs';
            }, 1000);
        }
        
        function showInsightsResults(insights) {
            const modal = createModal('üí° Your Proactive Career Insights', `
                <div style="padding: var(--space-4);">
                    <div style="background: linear-gradient(135deg, var(--warning), var(--success)); color: white; padding: var(--space-6); border-radius: var(--radius-xl); margin-bottom: var(--space-6); text-align: center;">
                        <i class="fas fa-lightbulb" style="font-size: 3rem; margin-bottom: var(--space-4);"></i>
                        <h3 style="margin-bottom: var(--space-3);">AI Analysis Complete</h3>
                        <p style="opacity: 0.9;">Personalized insights based on your profile and market data</p>
                    </div>
                    
                    <div style="margin-bottom: var(--space-6);">
                        <h4 style="color: var(--success); margin-bottom: var(--space-3);"><i class="fas fa-rocket"></i> Immediate Opportunities</h4>
                        <div style="background: var(--success-50); padding: var(--space-4); border-radius: var(--radius-lg);">
                            ${insights.immediate_opportunities.map(opp => `<p style="margin-bottom: var(--space-2); color: var(--gray-700);">‚Ä¢ ${opp}</p>`).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-bottom: var(--space-6);">
                        <h4 style="color: var(--info); margin-bottom: var(--space-3);"><i class="fas fa-chart-line"></i> Market Trends</h4>
                        <div style="background: var(--info-50); padding: var(--space-4); border-radius: var(--radius-lg);">
                            ${insights.market_trends.map(trend => `<p style="margin-bottom: var(--space-2); color: var(--gray-700);">‚Ä¢ ${trend}</p>`).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-bottom: var(--space-6);">
                        <h4 style="color: var(--primary-600); margin-bottom: var(--space-3);"><i class="fas fa-bullseye"></i> Personalized Recommendations</h4>
                        <div style="background: var(--primary-50); padding: var(--space-4); border-radius: var(--radius-lg);">
                            ${insights.personalized_recommendations.map(rec => `<p style="margin-bottom: var(--space-2); color: var(--gray-700);">‚Ä¢ ${rec}</p>`).join('')}
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: var(--space-3); justify-content: center;">
                        <button class="btn btn-secondary" onclick="saveInsights()">üíæ Save Insights</button>
                        <button class="btn btn-primary" onclick="createActionPlan()">
                            <i class="fas fa-clipboard-list"></i> Create Action Plan
                        </button>
                    </div>
                </div>
            `);
        }
        
        function executeOpportunityAction(type) {
            const opportunities = {
                'ai-ml': () => window.location.href = '/career-paths?focus=ai-ml',
                'aws-cert': () => window.location.href = '/tools?focus=aws-cert',
                'job-matches': () => window.location.href = '/community?tab=jobs'
            };
            
            closeModal();
            showNotification('üöÄ Taking you to the relevant section...', 'info');
            setTimeout(() => {
                if (opportunities[type]) {
                    opportunities[type]();
                }
            }, 1000);
        }
        
        function saveInsights() {
            // Save insights to localStorage or user profile
            localStorage.setItem('skillsync_latest_insights', JSON.stringify({
                timestamp: new Date().toISOString(),
                insights: 'Saved for user reference'
            }));
            
            showNotification('üíæ Insights saved to your profile!', 'success');
            closeModal();
        }
        
        function createActionPlan() {
            closeModal();
            showNotification('üìã Creating personalized action plan...', 'info');
            setTimeout(() => {
                window.location.href = '/goals';
            }, 1000);
        }
        
        // Utility functions
        function createModal(title, content) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0,0,0,0.5); display: flex; align-items: center;
                justify-content: center; z-index: 9999; backdrop-filter: blur(4px);
            `;
            
            modal.innerHTML = `
                <div style="background: white; border-radius: var(--radius-xl); padding: 0; 
                           max-width: 900px; width: 90%; max-height: 80vh; overflow-y: auto; 
                           box-shadow: var(--shadow-2xl);">
                    <div style="display: flex; justify-content: space-between; align-items: center; 
                               padding: var(--space-4) var(--space-6); border-bottom: 1px solid var(--gray-200);">
                        <h2 style="font-size: var(--text-xl); font-weight: 700; color: var(--gray-800);">${title}</h2>
                        <button onclick="closeModal()" style="background: none; border: none; 
                                font-size: var(--text-xl); color: var(--gray-500); cursor: pointer; 
                                width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; 
                                border-radius: 50%; transition: all 0.2s;" 
                                onmouseover="this.style.background='var(--gray-100)'" 
                                onmouseout="this.style.background='none'">&times;</button>
                    </div>
                    <div>${content}</div>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });
            
            return modal;
        }
        
        function closeModal() {
            const modal = document.querySelector('div[style*="position: fixed"][style*="z-index: 9999"]');
            if (modal) modal.remove();
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Add loading animation delays
            const animatedElements = document.querySelectorAll('.animate-slide-up');
            animatedElements.forEach((el, index) => {
                el.style.animationDelay = `${index * 0.1}s`;
                el.style.animationFillMode = 'both';
            });
            
            showNotification('AI Career Agent is online and ready to help!', 'success');
            
            // Simulate proactive insight after a delay
            setTimeout(() => {
                if (document.getElementById('chatMessages').children.length === 1) {
                    addMessage('ai', "üí° **Proactive Tip:** I noticed you're focusing on React development. The market is showing strong demand for React developers with TypeScript experience. Would you like me to suggest a learning path for TypeScript?");
                }
            }, 5000);
            
            // Add hover effects to cards
            document.querySelectorAll('.card, .insight-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-4px)';
                    this.style.boxShadow = '0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '';
                });
            });
        });
    </script>
</body>
</html>