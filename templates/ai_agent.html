<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillSync AI Agent - Autonomous Career Intelligence</title>
    <meta name="description" content="Meet your autonomous AI career advisor - proactive intelligence, market analysis, and personalized guidance powered by xAI Grok.">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --success-color: #10b981;
            --glass-bg: rgba(255,255,255,0.95);
            --shadow-lg: 0 20px 60px rgba(0,0,0,0.1);
            --dark-bg: #1e293b;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--primary-gradient);
            min-height: 100vh;
            color: #1a1a1a;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            color: white;
            text-decoration: none;
            font-weight: 600;
            margin-bottom: 30px;
            transition: opacity 0.3s ease;
        }
        
        .back-link:hover { opacity: 0.8; }
        .back-link i { margin-right: 8px; }
        
        .hero-section {
            text-align: center;
            color: white;
            margin-bottom: 60px;
        }
        
        .hero-section h1 {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 20px;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        
        .hero-section .hero-subtitle {
            font-size: 1.5rem;
            opacity: 0.9;
            margin-bottom: 30px;
        }
        
        .hero-section .hero-description {
            font-size: 1.1rem;
            opacity: 0.8;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .agent-status {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            background: #dcfce7;
            color: #166534;
            border-radius: 25px;
            font-weight: 600;
            margin-bottom: 30px;
            width: fit-content;
        }
        
        .pulse-dot {
            width: 12px;
            height: 12px;
            background: #10b981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.1); }
        }
        
        .capabilities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .capability-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 30px;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.3s ease;
        }
        
        .capability-card:hover { transform: translateY(-5px); }
        
        .capability-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .capability-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 12px;
            color: #1e293b;
        }
        
        .capability-description {
            color: #64748b;
            margin-bottom: 20px;
        }
        
        .capability-features {
            list-style: none;
            padding: 0;
        }
        
        .capability-features li {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            color: #475569;
            font-size: 0.9rem;
        }
        
        .capability-features li i {
            color: #10b981;
            margin-right: 8px;
            width: 16px;
        }
        
        .a2a-protocol-section {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        
        .a2a-protocol-section h2 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
        }
        
        .a2a-protocol-section p {
            text-align: center;
            color: #64748b;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .use-cases-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-lg);
        }
        
        .use-case {
            display: grid;
            grid-template-columns: 60px 1fr;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        
        .use-case-icon {
            width: 60px;
            height: 60px;
            background: var(--primary-gradient);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.2rem;
        }
        
        .use-case-content h4 {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: #1e293b;
        }
        
        .use-case-content p {
            color: #64748b;
            margin-bottom: 12px;
        }
        
        .use-case-example {
            background: #f1f5f9;
            padding: 12px 16px;
            border-radius: 8px;
            font-style: italic;
            color: #475569;
            border-left: 4px solid #667eea;
        }
        
        .demo-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-lg);
        }
        
        .demo-section h2 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
        }
        
        .demo-section p {
            text-align: center;
            color: #64748b;
            margin-bottom: 30px;
        }
        
        .demo-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .demo-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 16px 24px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        .demo-output {
            margin-top: 20px;
            padding: 20px;
            background: var(--dark-bg);
            border-radius: 8px;
            color: #e2e8f0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            display: none;
            white-space: pre-wrap;
        }
        
        @media (max-width: 768px) {
            .hero-section h1 { font-size: 2.5rem; }
            .capabilities-grid { grid-template-columns: 1fr; }
            .demo-buttons { grid-template-columns: 1fr; }
            .use-case { grid-template-columns: 1fr; text-align: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="back-link">
            <i class="fas fa-arrow-left"></i> Back to Dashboard
        </a>
        
        <div class="hero-section">
            <h1><i class="fas fa-robot"></i> AI Agent</h1>
            <p class="hero-subtitle">Revolutionary Multi-Agent Career Intelligence System</p>
            <p class="hero-description">
                Experience the world's first autonomous multi-agent AI system for career development. 
                Four specialized agents work together using our proprietary A2A (Agent-to-Agent) protocol 
                to deliver personalized, adaptive career intelligence that learns from your behavior.
            </p>
        </div>
        
        <div class="capabilities-grid">
            <div class="capability-card">
                <div class="capability-icon"><i class="fas fa-brain"></i></div>
                <div class="capability-title">Behavioral Intelligence Agent</div>
                <div class="capability-description">
                    Tracks your clicks, scrolls, and interactions across the platform to build a comprehensive 
                    career profile. Analyzes career intent in real-time and identifies your interests, 
                    engagement patterns, and professional goals through behavioral analysis.
                </div>
            </div>
            
            <div class="capability-card">
                <div class="capability-icon"><i class="fas fa-fire"></i></div>
                <div class="capability-title">Motivation & Energy Agent</div>
                <div class="capability-description">
                    Monitors your motivation levels and provides personalized encouragement based on your 
                    energy state. Delivers contextual motivational messages and tracks your achievement 
                    streaks to keep you engaged and moving toward your career goals.
                </div>
            </div>
            
            <div class="capability-card">
                <div class="capability-icon"><i class="fas fa-chart-line"></i></div>
                <div class="capability-title">Market Intelligence Agent</div>
                <div class="capability-description">
                    Correlates your interests with real-time market trends using AI-powered analysis. 
                    Identifies salary opportunities, skill demand patterns, and provides market timing 
                    insights for optimal career moves based on your behavioral profile.
                </div>
            </div>
            
            <div class="capability-card">
                <div class="capability-icon"><i class="fas fa-target"></i></div>
                <div class="capability-title">Goal Setting & Tracking Agent</div>
                <div class="capability-description">
                    Detects goal-setting intent from your behavior and provides AI-enhanced goal analysis. 
                    Offers smart goal templates, tracks progress, and provides milestone recommendations 
                    with success probability assessments.
                </div>
            </div>
        </div>
        
        <div class="a2a-protocol-section">
            <h2 style="text-align: center; color: #667eea; margin-bottom: 30px;">
                <i class="fas fa-network-wired"></i> A2A Protocol: Agent-to-Agent Communication
            </h2>
            <p style="text-align: center; color: #64748b; margin-bottom: 30px; font-size: 1.1rem;">
                Our revolutionary A2A protocol enables agents to share insights and collaborate autonomously, 
                creating a unified intelligence system that gets smarter with every interaction.
            </p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 30px;">
                <div style="text-align: center; padding: 20px;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(45deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;">
                        <i class="fas fa-sync-alt" style="color: white; font-size: 24px;"></i>
                    </div>
                    <h4 style="color: #1e293b; margin-bottom: 10px;">Real-time Sync</h4>
                    <p style="color: #64748b; font-size: 0.9rem;">Agents synchronize every 30 seconds, sharing behavioral insights and collaborative recommendations.</p>
                </div>
                
                <div style="text-align: center; padding: 20px;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(45deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;">
                        <i class="fas fa-lightbulb" style="color: white; font-size: 24px;"></i>
                    </div>
                    <h4 style="color: #1e293b; margin-bottom: 10px;">Collaborative Insights</h4>
                    <p style="color: #64748b; font-size: 0.9rem;">Agents combine their specialized knowledge to generate unified, actionable career recommendations.</p>
                </div>
                
                <div style="text-align: center; padding: 20px;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(45deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;">
                        <i class="fas fa-chart-bar" style="color: white; font-size: 24px;"></i>
                    </div>
                    <h4 style="color: #1e293b; margin-bottom: 10px;">Adaptive Learning</h4>
                    <p style="color: #64748b; font-size: 0.9rem;">System learns from cross-agent patterns to provide increasingly personalized career intelligence.</p>
                </div>
            </div>
        </div>
        
        <div class="use-cases-section">
            <h2><i class="fas fa-lightbulb"></i> Multi-Agent Intelligence in Action</h2>
            <p style="color: #64748b; margin-bottom: 30px;">See how our four specialized agents work together:</p>
            
            <div class="use-case">
                <div class="use-case-icon">
                    <i class="fas fa-mouse-pointer"></i>
                </div>
                <div class="use-case-content">
                    <div class="use-case-title">Behavioral Pattern Recognition</div>
                    <div class="use-case-description">
                        "Behavioral Agent detected high engagement with AI/ML content across 15 page visits. 
                        Market Intelligence Agent confirmed 25% salary premium for AI skills. Motivation Agent 
                        boosted energy level to 'high' and Goal Setting Agent suggested: 'Master Python for AI within 6 months.'"
                    </div>
                </div>
            </div>
            
            <div class="use-case">
                <div class="use-case-icon">
                    <i class="fas fa-handshake"></i>
                </div>
                <div class="use-case-content">
                    <div class="use-case-title">Agent Collaboration Example</div>
                    <div class="use-case-description">
                        "Goal Setting Agent identified promotion intent. Behavioral Agent confirmed leadership-focused 
                        clicks. Market Intelligence Agent found 30% increase in management roles requiring technical background. 
                        Motivation Agent delivered personalized encouragement: 'Your consistent engagement shows leadership potential!'"
                    </div>
                </div>
            </div>
            
            <div class="use-case">
                <div class="use-case-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="use-case-content">
                    <div class="use-case-title">Autonomous Career Acceleration</div>
                    <div class="use-case-description">
                        "Multi-agent system detected career change intent through behavioral patterns. Agents collaborated 
                        via A2A protocol to create a personalized transition plan, identify transferable skills, and provide 
                        real-time market timing insights - all without manual input."
                    </div>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <h2><i class="fas fa-play-circle"></i> Experience the Multi-Agent System</h2>
            <p style="color: #64748b; margin-bottom: 30px;">
                The system is already active and learning from your behavior. Check the "🤖 Multi-Agent AI Active" 
                indicator on any page to see it in action. Try these live demonstrations:
            </p>
            
            <div class="demo-buttons">
                <button onclick="demoAgentStatus()" class="demo-btn">
                    <i class="fas fa-robot"></i> Check Agent Status
                </button>
                <button onclick="demoMarketTrends()" class="demo-btn">
                    <i class="fas fa-chart-line"></i> Market Intelligence Demo
                </button>
                <button onclick="demoTriggerCycle()" class="demo-btn">
                    <i class="fas fa-sync-alt"></i> Trigger A2A Sync
                </button>
                <button onclick="demoUserInsights()" class="demo-btn">
                    <i class="fas fa-user-cog"></i> Behavioral Analysis
                </button>
            </div>
            
            <div id="demo-output" class="demo-output"></div>
            
            <p style="font-size: 0.9rem;">🤖 Multi-Agent AI System • Powered by xAI Grok • A2A Protocol Active</p>
        </div>
        
        <div style="text-align: center; color: rgba(255,255,255,0.8); margin-top: 40px;">
            <p style="font-size: 0.9rem;">🤖 Autonomous AI Agent • Powered by SkillSync Intelligence Platform</p>
        </div>
    </div>
    
    <script>
        function formatLocalTime(utcTimestamp) {
            // Convert UTC timestamp to local time
            const date = new Date(utcTimestamp);
            return date.toLocaleString();
        }

        async function demoMarketTrends() {
            showLoading('Analyzing global market trends...');
            
            try {
                const response = await fetch('/api/intelligence/market-trends');
                const data = await response.json();
                
                const analysisTime = formatLocalTime(data.analysis_timestamp);
                showResult(`Market Trends Analysis:
                
📊 Skills Analyzed: ${data.total_skills_analyzed}
🤖 AI Provider: ${data.ai_provider}
⏰ Analysis Time: ${analysisTime}

🔥 Top Trending Skills:
${data.market_trends.slice(0, 3).map(trend => 
`• ${trend.skill}: ${trend.demand_change > 0 ? '+' : ''}${trend.demand_change}% demand change
  💰 Salary: ${trend.salary_trend}
  📈 Growth: ${trend.growth_prediction}`
).join('\n')}

💡 The AI Agent continuously monitors these trends!`);
                
            } catch (error) {
                showResult(`Error: ${error.message}\n\nNote: This demo requires the AI Agent to be deployed.`);
            }
        }
        
        async function demoAgentStatus() {
            showLoading('Checking AI Agent status...');
            
            try {
                const response = await fetch('/api/intelligence/status');
                const data = await response.json();
                
                const lastUpdated = formatLocalTime(data.last_updated);
                showResult(`🤖 ${data.agent_name} v${data.version}
                
🟢 Status: ${data.status.toUpperCase()}
🧠 AI Integration: ${data.ai_integration.provider}

🚀 Capabilities:
${data.capabilities.slice(0, 4).map(cap => `• ${cap}`).join('\n')}

⏰ Last Updated: ${lastUpdated}`);
                
            } catch (error) {
                showResult(`Error: ${error.message}\n\nNote: This demo requires the AI Agent to be deployed.`);
            }
        }
        
        async function demoTriggerCycle() {
            showLoading('Triggering intelligence cycle...');
            
            try {
                const response = await fetch('/api/intelligence/trigger', {
                    method: 'POST'
                });
                const data = await response.json();
                
                const timestamp = formatLocalTime(data.timestamp);
                showResult(`🚀 Intelligence Cycle Triggered!
                
✅ Status: ${data.status}
📝 Message: ${data.message}
⏰ Timestamp: ${timestamp}

🤖 The AI Agent is now analyzing market trends and generating insights!`);
                
            } catch (error) {
                showResult(`Error: ${error.message}\n\nNote: This demo requires the AI Agent to be deployed.`);
            }
        }
        
        async function demoUserInsights() {
            showLoading('Testing endpoint connectivity...');
            
            try {
                // First test the debug endpoint
                const testResponse = await fetch('/api/intelligence/user-insights-test', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({test: true})
                });
                
                const testData = await testResponse.json();
                
                showResult(`🔧 DEBUG TEST RESULTS:

✅ Endpoint Accessible: ${testData.status}
📡 Method: ${testData.method}
⏰ Timestamp: ${testData.timestamp}
📋 Test Data: ${JSON.stringify(testData.test_data, null, 2)}

🎯 This confirms the backend is working!
Now testing the real AI endpoint...`);
                
                // Wait 2 seconds then test the real endpoint
                setTimeout(async () => {
                    showLoading('Now testing real AI endpoint...');
                    
                    const userProfile = {
                        skills: ['Python', 'JavaScript', 'SQL', 'React'],
                        goals: 'advance to senior developer role and explore AI/ML',
                        experience: 'mid-level'
                    };
                    
                    const response = await fetch('/api/intelligence/user-insights', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(userProfile)
                    });
                    
                    const data = await response.json();
                    
                    const generatedAt = formatLocalTime(data.generated_at);
                    showResult(`🤖 AI-Generated Career Insights

👤 Profile Analysis:
• Skills: ${data.user_profile.skills.join(', ')}
• Goals: ${data.user_profile.goals}
• Experience: ${data.user_profile.experience}

🎯 AI Career Specialist Recommendations:
${data.ai_insights}

⏰ Generated: ${generatedAt}
🤖 AI Provider: ${data.ai_provider}
📊 Confidence Score: ${(data.confidence_score * 100).toFixed(0)}%
🔄 Status: ${data.status}

💡 These insights are powered by real AI analysis!`);
                }, 2000);
                
            } catch (error) {
                showResult(`❌ ERROR DETAILS:
                
Error: ${error.message}

🔍 This helps us debug the issue:
- If you see this error, the problem is with the network request
- If you saw the debug test but this fails, the issue is with the AI endpoint specifically
- Check the browser's Network tab (F12) for more details

Note: This requires the AI Agent backend to be running with xAI API key configured.`);
            }
        }
        
        function showLoading(message) {
            const resultDiv = document.getElementById('demo-output');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `<div style="display: flex; align-items: center; gap: 12px;">
                <div style="width: 20px; height: 20px; border: 2px solid rgba(255,255,255,0.3); border-top: 2px solid white; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                ${message}
            </div>
            <style>
                @keyframes spin { to { transform: rotate(360deg); } }
            </style>`;
        }
        
        function showResult(result) {
            const resultDiv = document.getElementById('demo-output');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = result;
        }
    </script>
</body>
</html>
